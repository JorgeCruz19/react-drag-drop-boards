var q=Object.defineProperty,w=Object.defineProperties;var L=Object.getOwnPropertyDescriptors;var N=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable;var g=(t,e,a)=>e in t?q(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,c=(t,e)=>{for(var a in e||(e={}))M.call(e,a)&&g(t,a,e[a]);if(N)for(var a of N(e))V.call(e,a)&&g(t,a,e[a]);return t},l=(t,e)=>w(t,L(e));import{r as j,a as r,F as E,j as s}from"./index.e753a64b.js";import{D as $,d as z,l as C}from"./Tooltip.0d70ecc6.js";import{c as G,a as S,b as O,u as R,M as T,A as W,o as B,W as x}from"./Modal.3bfb2f34.js";import{f as F,a as H,e as J}from"./Projects.b3bfe2dd.js";const K=G({name:S().required(),description:S().required(),date:O().required().nullable().default(()=>new Date().toLocaleDateString())}),ee=({title:t,root:e,type:a,id:i})=>{var f,u,p;const[v,m]=j.exports.useState(!1),{register:d,handleSubmit:D,reset:P,setValue:y,formState:{errors:o}}=R({resolver:B(K)});a=="edit"&&j.exports.useEffect(()=>{A()},[]);const A=async()=>{const n=["name","description","date"],I=$(z,"projects",i),b=await C(I),k=l(c({},b.data()),{date:new Date(b.data().date.seconds*1e3).toISOString().substring(0,10)});n.forEach(h=>y(h,k[h]))};return r(E,{children:[s(T,{title:t,root:e,children:r("form",{onSubmit:D(async n=>{m(!0),a!="edit"?(H(n),P({name:"",description:"",date:""}),x.success("\xA1Project saved!")):(J(n,i),x.success("\xA1Project updated!")),m(!1)}),autoComplete:"off",children:[r("div",{className:"form-content",children:[r("label",{htmlFor:"name",className:"form-label",children:["Nombre:"," "]}),s("input",l(c({id:"name"},d("name")),{type:"text",className:"form-control",placeholder:"Ingrese el nombre"})),o.name&&s("small",{className:"invalid-feedback",children:(f=o.name)==null?void 0:f.message})]}),r("div",{className:"form-content",children:[r("label",{htmlFor:"description",className:"form-label",children:["Descripcion:"," "]}),s("input",l(c({id:"description"},d("description")),{type:"text",className:"form-control",placeholder:"Ingrese la descripci\xF3n"})),o.description&&s("small",{className:"invalid-feedback",children:(u=o.description)==null?void 0:u.message})]}),r("div",{className:"form-content",children:[r("label",{htmlFor:"date",className:"form-label",children:["Fecha:"," "]}),s("input",l(c({id:"date"},d("date")),{type:"date",className:"form-control",defaultValue:F(),min:F()})),o.date&&s("small",{className:"invalid-feedback",children:(p=o.date)==null?void 0:p.message})]}),s("button",{type:"submit",className:"btn-submit",disabled:!!v,children:a=="edit"?"Actualizar":"Guardar"})]})}),s(W,{})]})};export{ee as default};
